(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{1042:function(e,t,n){"use strict";var i=n("9745"),a=n.n(i);a.a},"1cc6":function(e,t,n){"use strict";var i=n("749c"),a=n.n(i);a.a},"282b":function(e,t,n){"use strict";n.r(t);var i=n("f7ca"),a=n("efcf");for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);n("1042");var c=n("2877"),d=Object(c["a"])(a["default"],i["a"],i["b"],!1,null,"ed6ea02c",null);t["default"]=d.exports},3809:function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,".uni-column[data-v-8ef3dd6a]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.content[data-v-8ef3dd6a]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;margin-bottom:%?100?%}.foot[data-v-8ef3dd6a]{position:fixed;width:100%;height:%?90?%;min-height:%?90?%;left:%?0?%;bottom:%?0?%;overflow:hidden}",""])},"42b1":function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,'.m-item[data-v-2559b4f2]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;padding-top:%?40?%}.m-left[data-v-2559b4f2]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:%?120?%;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}.m-content[data-v-2559b4f2]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;word-break:break-all}.m-right[data-v-2559b4f2]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:%?120?%;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}.head_icon[data-v-2559b4f2]{width:%?80?%;height:%?80?%}.m-content-head[data-v-2559b4f2]{position:relative}.m-content-head-right[data-v-2559b4f2]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}.m-content-head-home[data-v-2559b4f2]{text-align:left;background:#1482d1;border:%?1?% #1482d1 solid;border-radius:%?20?%;padding:%?20?%;color:#fff}.m-content-head-home[data-v-2559b4f2]:before{border:%?15?% solid rgba(0,0,0,0);border-right:%?15?% solid #1482d1;left:%?-26?%;width:0;height:0;position:absolute;content:" "}.m-content-head-customer[data-v-2559b4f2]{border:%?1?% #fff solid;background:#fff;border-radius:%?20?%;padding:%?20?%}.m-content-head-customer[data-v-2559b4f2]:after{border:%?15?% solid rgba(0,0,0,0);border-left:%?15?% solid #fff;top:%?20?%;right:%?-26?%;width:0;height:0;position:absolute;content:" "}',""])},"48bc":function(e,t,n){"use strict";n.r(t);var i=n("59f6"),a=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t["default"]=a.a},"49cf":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"chat-input",data:function(){return{inputValue:""}},methods:{sendMessge:function(){var e=this;""==e.inputValue.trim()?e.inputValue="":(this.$emit("send-message",{type:"text",content:e.inputValue}),e.inputValue="")}}};t.default=i},"59f6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("2f62"),a={data:function(){return{abosultPaht:"../../"}},props:["message","id"],computed:(0,i.mapState)(["user"])};t.default=a},"6ad8":function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,'@font-face{font-family:uniicons;font-weight:400;font-style:normal;src:url(https://img-cdn-qiniu.dcloud.net.cn/fonts/uni.ttf) format("truetype")}.uni-icon[data-v-ed6ea02c]{font-family:uniicons;font-size:%?48?%;font-weight:400;font-style:normal;line-height:1;display:inline-block;text-decoration:none;-webkit-font-smoothing:antialiased}.uni-icon.uni-active[data-v-ed6ea02c]{color:#007aff}.uni-icon-contact[data-v-ed6ea02c]:before{content:"\\E100"}.uni-icon-person[data-v-ed6ea02c]:before{content:"\\E101"}.uni-icon-personadd[data-v-ed6ea02c]:before{content:"\\E102"}.uni-icon-contact-filled[data-v-ed6ea02c]:before{content:"\\E130"}.uni-icon-person-filled[data-v-ed6ea02c]:before{content:"\\E131"}.uni-icon-personadd-filled[data-v-ed6ea02c]:before{content:"\\E132"}.uni-icon-phone[data-v-ed6ea02c]:before{content:"\\E200"}.uni-icon-email[data-v-ed6ea02c]:before{content:"\\E201"}.uni-icon-chatbubble[data-v-ed6ea02c]:before{content:"\\E202"}.uni-icon-chatboxes[data-v-ed6ea02c]:before{content:"\\E203"}.uni-icon-phone-filled[data-v-ed6ea02c]:before{content:"\\E230"}.uni-icon-email-filled[data-v-ed6ea02c]:before{content:"\\E231"}.uni-icon-chatbubble-filled[data-v-ed6ea02c]:before{content:"\\E232"}.uni-icon-chatboxes-filled[data-v-ed6ea02c]:before{content:"\\E233"}.uni-icon-weibo[data-v-ed6ea02c]:before{content:"\\E260"}.uni-icon-weixin[data-v-ed6ea02c]:before{content:"\\E261"}.uni-icon-pengyouquan[data-v-ed6ea02c]:before{content:"\\E262"}.uni-icon-chat[data-v-ed6ea02c]:before{content:"\\E263"}.uni-icon-qq[data-v-ed6ea02c]:before{content:"\\E264"}.uni-icon-videocam[data-v-ed6ea02c]:before{content:"\\E300"}.uni-icon-camera[data-v-ed6ea02c]:before{content:"\\E301"}.uni-icon-mic[data-v-ed6ea02c]:before{content:"\\E302"}.uni-icon-location[data-v-ed6ea02c]:before{content:"\\E303"}.uni-icon-mic-filled[data-v-ed6ea02c]:before,.uni-icon-speech[data-v-ed6ea02c]:before{content:"\\E332"}.uni-icon-location-filled[data-v-ed6ea02c]:before{content:"\\E333"}.uni-icon-micoff[data-v-ed6ea02c]:before{content:"\\E360"}.uni-icon-image[data-v-ed6ea02c]:before{content:"\\E363"}.uni-icon-map[data-v-ed6ea02c]:before{content:"\\E364"}.uni-icon-compose[data-v-ed6ea02c]:before{content:"\\E400"}.uni-icon-trash[data-v-ed6ea02c]:before{content:"\\E401"}.uni-icon-upload[data-v-ed6ea02c]:before{content:"\\E402"}.uni-icon-download[data-v-ed6ea02c]:before{content:"\\E403"}.uni-icon-close[data-v-ed6ea02c]:before{content:"\\E404"}.uni-icon-redo[data-v-ed6ea02c]:before{content:"\\E405"}.uni-icon-undo[data-v-ed6ea02c]:before{content:"\\E406"}.uni-icon-refresh[data-v-ed6ea02c]:before{content:"\\E407"}.uni-icon-star[data-v-ed6ea02c]:before{content:"\\E408"}.uni-icon-plus[data-v-ed6ea02c]:before{content:"\\E409"}.uni-icon-minus[data-v-ed6ea02c]:before{content:"\\E410"}.uni-icon-checkbox[data-v-ed6ea02c]:before,.uni-icon-circle[data-v-ed6ea02c]:before{content:"\\E411"}.uni-icon-clear[data-v-ed6ea02c]:before,.uni-icon-close-filled[data-v-ed6ea02c]:before{content:"\\E434"}.uni-icon-refresh-filled[data-v-ed6ea02c]:before{content:"\\E437"}.uni-icon-star-filled[data-v-ed6ea02c]:before{content:"\\E438"}.uni-icon-plus-filled[data-v-ed6ea02c]:before{content:"\\E439"}.uni-icon-minus-filled[data-v-ed6ea02c]:before{content:"\\E440"}.uni-icon-circle-filled[data-v-ed6ea02c]:before{content:"\\E441"}.uni-icon-checkbox-filled[data-v-ed6ea02c]:before{content:"\\E442"}.uni-icon-closeempty[data-v-ed6ea02c]:before{content:"\\E460"}.uni-icon-refreshempty[data-v-ed6ea02c]:before{content:"\\E461"}.uni-icon-reload[data-v-ed6ea02c]:before{content:"\\E462"}.uni-icon-starhalf[data-v-ed6ea02c]:before{content:"\\E463"}.uni-icon-spinner[data-v-ed6ea02c]:before{content:"\\E464"}.uni-icon-spinner-cycle[data-v-ed6ea02c]:before{content:"\\E465"}.uni-icon-search[data-v-ed6ea02c]:before{content:"\\E466"}.uni-icon-plusempty[data-v-ed6ea02c]:before{content:"\\E468"}.uni-icon-forward[data-v-ed6ea02c]:before{content:"\\E470"}.uni-icon-back[data-v-ed6ea02c]:before,.uni-icon-left-nav[data-v-ed6ea02c]:before{content:"\\E471"}.uni-icon-checkmarkempty[data-v-ed6ea02c]:before{content:"\\E472"}.uni-icon-home[data-v-ed6ea02c]:before{content:"\\E500"}.uni-icon-navigate[data-v-ed6ea02c]:before{content:"\\E501"}.uni-icon-gear[data-v-ed6ea02c]:before{content:"\\E502"}.uni-icon-paperplane[data-v-ed6ea02c]:before{content:"\\E503"}.uni-icon-info[data-v-ed6ea02c]:before{content:"\\E504"}.uni-icon-help[data-v-ed6ea02c]:before{content:"\\E505"}.uni-icon-locked[data-v-ed6ea02c]:before{content:"\\E506"}.uni-icon-more[data-v-ed6ea02c]:before{content:"\\E507"}.uni-icon-flag[data-v-ed6ea02c]:before{content:"\\E508"}.uni-icon-home-filled[data-v-ed6ea02c]:before{content:"\\E530"}.uni-icon-gear-filled[data-v-ed6ea02c]:before{content:"\\E532"}.uni-icon-info-filled[data-v-ed6ea02c]:before{content:"\\E534"}.uni-icon-help-filled[data-v-ed6ea02c]:before{content:"\\E535"}.uni-icon-more-filled[data-v-ed6ea02c]:before{content:"\\E537"}.uni-icon-settings[data-v-ed6ea02c]:before{content:"\\E560"}.uni-icon-list[data-v-ed6ea02c]:before{content:"\\E562"}.uni-icon-bars[data-v-ed6ea02c]:before{content:"\\E563"}.uni-icon-loop[data-v-ed6ea02c]:before{content:"\\E565"}.uni-icon-paperclip[data-v-ed6ea02c]:before{content:"\\E567"}.uni-icon-eye[data-v-ed6ea02c]:before{content:"\\E568"}.uni-icon-arrowup[data-v-ed6ea02c]:before{content:"\\E580"}.uni-icon-arrowdown[data-v-ed6ea02c]:before{content:"\\E581"}.uni-icon-arrowleft[data-v-ed6ea02c]:before{content:"\\E582"}.uni-icon-arrowright[data-v-ed6ea02c]:before{content:"\\E583"}.uni-icon-arrowthinup[data-v-ed6ea02c]:before{content:"\\E584"}.uni-icon-arrowthindown[data-v-ed6ea02c]:before{content:"\\E585"}.uni-icon-arrowthinleft[data-v-ed6ea02c]:before{content:"\\E586"}.uni-icon-arrowthinright[data-v-ed6ea02c]:before{content:"\\E587"}.uni-icon-pulldown[data-v-ed6ea02c]:before{content:"\\E588"}.footer[data-v-ed6ea02c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;width:100%;height:%?80?%;min-height:%?80?%;border-top:solid %?1?% #bbb;overflow:hidden;padding:%?5?%;background-color:#fafafa}.footer-left[data-v-ed6ea02c]{width:%?80?%;height:%?80?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.footer-right[data-v-ed6ea02c]{width:%?120?%;height:%?80?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;color:#1482d1}.footer-center[data-v-ed6ea02c]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;height:%?80?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.footer-center .input-text[data-v-ed6ea02c]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;background:#fff;border:solid %?1?% #ddd;padding:%?10?%!important;font-family:verdana!important;overflow:hidden;border-radius:%?15?%}',""])},"708f":function(e,t,n){"use strict";n.r(t);var i=n("a9f7"),a=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t["default"]=a.a},"749c":function(e,t,n){var i=n("3809");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("d83bf3ae",i,!0,{sourceMap:!1,shadowMode:!1})},"8f06":function(e,t,n){"use strict";n.r(t);var i=n("fb95"),a=n("708f");for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);n("1cc6");var c=n("2877"),d=Object(c["a"])(a["default"],i["a"],i["b"],!1,null,"8ef3dd6a",null);t["default"]=d.exports},9745:function(e,t,n){var i=n("6ad8");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("83fd79c2",i,!0,{sourceMap:!1,shadowMode:!1})},a3a0:function(e,t,n){"use strict";n.r(t);var i=n("e0f6"),a=n("48bc");for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);n("af2a");var c=n("2877"),d=Object(c["a"])(a["default"],i["a"],i["b"],!1,null,"2559b4f2",null);t["default"]=d.exports},a9f7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("282b")),a=o(n("a3a0"));function o(e){return e&&e.__esModule?e:{default:e}}var c={data:function(){return{style:{pageHeight:0,contentViewHeight:0,footViewHeight:90,mitemHeight:0},scrollTop:0,messages:[{user:"home",type:"head",content:"你好!"}]}},components:{chatInput:i.default,messageShow:a.default},onLoad:function(){var e=this;console.log("开始了"),uni.connectSocket({url:"ws://120.79.62.89:8993"}),uni.onSocketOpen(function(e){}),uni.onSocketMessage(function(t){console.log("欢迎你用户id发出："+t.data),e.addMessage("home",t.data,!1),e.scrollToBottom()})},created:function(){var e=uni.getSystemInfoSync();this.style.pageHeight=e.windowHeight,this.style.contentViewHeight=e.windowHeight-uni.getSystemInfoSync().screenWidth/750*100},methods:{getInputMessage:function(e){this.addMessage("customer",e.content,!1),this.toRobot(e.content)},addMessage:function(e,t,n,i){var a=this;a.messages.push({user:e,content:t,hasSub:n,subcontent:i})},scrollToBottom:function(){var e=this,t=uni.createSelectorQuery();t.selectAll(".m-item").boundingClientRect(),t.select("#scrollview").boundingClientRect(),t.exec(function(t){e.style.mitemHeight=0,t[0].forEach(function(t){e.style.mitemHeight=e.style.mitemHeight+t.height+20}),e.style.mitemHeight>e.style.contentViewHeight&&(e.scrollTop=e.style.mitemHeight-e.style.contentViewHeight)})},toRobot:function(e){console.log("发生"+e),uni.sendSocketMessage({data:e}),this.scrollToBottom()}}};t.default=c},af2a:function(e,t,n){"use strict";var i=n("ec96"),a=n.n(i);a.a},e0f6:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"m-item",attrs:{id:"message"+e.id}},[n("v-uni-view",{staticClass:"m-left"},["home"==e.message.user?n("v-uni-image",{staticClass:"head_icon",attrs:{src:e.abosultPaht+e.user.home.img}}):e._e()],1),n("v-uni-view",{staticClass:"m-content"},[n("v-uni-view",{staticClass:"m-content-head",class:{"m-content-head-right":"customer"==e.message.user}},[n("v-uni-view",{class:"m-content-head-"+e.message.user},[e._v(e._s(e.message.content))])],1)],1),n("v-uni-view",{staticClass:"m-right"},["customer"==e.message.user?n("v-uni-image",{staticClass:"head_icon",attrs:{src:e.abosultPaht+e.user.customer.img}}):e._e()],1)],1)},a=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a})},ec96:function(e,t,n){var i=n("42b1");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("6411fb8c",i,!0,{sourceMap:!1,shadowMode:!1})},efcf:function(e,t,n){"use strict";n.r(t);var i=n("49cf"),a=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t["default"]=a.a},f7ca:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"footer"},[n("v-uni-view",{staticClass:"footer-left"},[n("v-uni-view",{staticClass:"uni-icon uni-icon-mic"})],1),n("v-uni-view",{staticClass:"footer-center"},[n("v-uni-input",{staticClass:"input-text",attrs:{type:"text"},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})],1),n("v-uni-view",{staticClass:"footer-right",on:{click:function(t){t=e.$handleEvent(t),e.sendMessge(t)}}},[n("v-uni-view",{attrs:{id:"msg-type"}},[e._v("发送")])],1)],1)},a=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a})},fb95:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"uni-column"},[n("v-uni-view",{staticClass:"content",style:{height:e.style.contentViewHeight+"px"},attrs:{id:"content"}},[n("v-uni-scroll-view",{style:{height:e.style.contentViewHeight+"px"},attrs:{id:"scrollview","scroll-y":"true","scroll-with-animation":!0,"scroll-top":e.scrollTop}},[e._l(e.messages,function(e,t){return n("message-show",{key:t,attrs:{message:e,id:t}})}),n("v-uni-view",{attrs:{id:"bottom"}})],2)],1),n("v-uni-view",{staticClass:"foot"},[n("chat-input",{on:{"send-message":function(t){t=e.$handleEvent(t),e.getInputMessage(t)}}})],1)],1)},a=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a})}}]);