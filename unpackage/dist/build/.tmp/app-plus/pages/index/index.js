(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"04d7":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:"m-item",attrs:{id:"message"+t.id}},[n("view",{staticClass:"m-left"},["home"==t.message.user?n("image",{staticClass:"head_icon",attrs:{src:t.abosultPaht+t.user.home.img}}):t._e()]),n("view",{staticClass:"m-content"},[n("view",{staticClass:"m-content-head",class:{"m-content-head-right":"customer"==t.message.user}},[n("view",{class:"m-content-head-"+t.message.user},[t._v(t._s(t.message.content))])])]),n("view",{staticClass:"m-right"},["customer"==t.message.user?n("image",{staticClass:"head_icon",attrs:{src:t.abosultPaht+t.user.customer.img}}):t._e()])])},r=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r})},1130:function(t,e,n){"use strict";n.r(e);var o=n("604e"),r=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);e["default"]=r.a},"173b":function(t,e,n){"use strict";n.r(e);var o=n("04d7"),r=n("1130");for(var a in r)"default"!==a&&function(t){n.d(e,t,function(){return r[t]})}(a);n("eea5");var i=n("2877"),u=Object(i["a"])(r["default"],o["a"],o["b"],!1,null,null,null);e["default"]=u.exports},"47d6":function(t,e,n){"use strict";n.r(e);var o=n("a344"),r=n("da00");for(var a in r)"default"!==a&&function(t){n.d(e,t,function(){return r[t]})}(a);n("759e");var i=n("2877"),u=Object(i["a"])(r["default"],o["a"],o["b"],!1,null,null,null);e["default"]=u.exports},5862:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:"footer"},[t._m(0),n("view",{staticClass:"footer-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],staticClass:"input-text",attrs:{type:"text",eventid:"135e31f2-0"},domProps:{value:t.inputValue},on:{input:function(e){e.target.composing||(t.inputValue=e.target.value)}}})]),n("view",{staticClass:"footer-right",attrs:{eventid:"135e31f2-1"},on:{tap:t.sendMessge}},[n("view",{attrs:{id:"msg-type"}},[t._v("发送")])])])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:"footer-left"},[n("view",{staticClass:"uni-icon uni-icon-mic"})])}];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r})},"604e":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n("2f62"),r={data:function(){return{abosultPaht:"../../"}},props:["message","id"],computed:(0,o.mapState)(["user"])};e.default=r},"685f":function(t,e,n){"use strict";n.r(e);var o=n("5862"),r=n("cd2f");for(var a in r)"default"!==a&&function(t){n.d(e,t,function(){return r[t]})}(a);n("7b5f");var i=n("2877"),u=Object(i["a"])(r["default"],o["a"],o["b"],!1,null,null,null);e["default"]=u.exports},"6e42":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createApp=St,e.createPage=Et,e.createComponent=Ot,e.default=void 0;var o=r(n("f3d3"));function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=Object.prototype.toString,u=Object.prototype.hasOwnProperty;function s(t){return"function"===typeof t}function c(t){return"string"===typeof t}function l(t){return"[object Object]"===i.call(t)}function f(t,e){return u.call(t,e)}function h(){}function v(t){var e=Object.create(null);return function(n){var o=e[n];return o||(e[n]=t(n))}}var d=/-(\w)/g,p=v(function(t){return t.replace(d,function(t,e){return e?e.toUpperCase():""})}),m=/subNVue|requireNativePlugin|upx2px|hideKeyboard|canIUse|^create|Sync$|Manager$/,_=/^create|Manager$/,g=/^on/;function y(t){return _.test(t)}function w(t){return m.test(t)}function $(t){return g.test(t)}function b(t){return t.then(function(t){return[null,t]}).catch(function(t){return[t]})}function x(t){return!(y(t)||w(t)||$(t))}function S(t,e){return x(t)?function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return s(t.success)||s(t.fail)||s(t.complete)?e.apply(void 0,[t].concat(o)):b(new Promise(function(n,r){e.apply(void 0,[Object.assign({},t,{success:n,fail:r})].concat(o)),Promise.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){throw n})})}}))}:e}var P=1e-4,k=750,E=!1,A=0,O=0;function I(){var t=wx.getSystemInfoSync(),e=t.platform,n=t.pixelRatio,o=t.windowWidth;A=o,O=n,E="ios"===e}function C(t,e){if(0===A&&I(),t=Number(t),0===t)return 0;var n=t/k*(e||A);return n<0&&(n=-n),n=Math.floor(n+P),0===n?1!==O&&E?.5:1:t<0?-n:n}var M={},N=[],T=[],B=["success","fail","cancel","complete"];function V(t,e,n){return function(o){return e(H(t,o,n))}}function j(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(l(e)){var a=!0===r?e:{};for(var i in s(n)&&(n=n(e,a)||{}),e)if(f(n,i)){var u=n[i];s(u)&&(u=u(e[i],e,a)),u?c(u)?a[u]=e[i]:l(u)&&(a[u.name?u.name:i]=u.value):console.warn("app-plus ".concat(t,"暂不支持").concat(i))}else-1!==B.indexOf(i)?a[i]=V(t,e[i],o):r||(a[i]=e[i]);return a}return s(e)&&(e=V(t,e,o)),e}function H(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return s(M.returnValue)&&(e=M.returnValue(t,e)),j(t,e,n,{},o)}function R(t,e){if(f(M,t)){var n=M[t];return n?function(e,o){var r=n;s(n)&&(r=n(e)),e=j(t,e,r.args,r.returnValue);var a=wx[r.name||t](e,o);return w(t)?H(t,a,r.returnValue,y(t)):a}:function(){console.error("app-plus 暂不支持".concat(t))}}return e}var U=Object.create(null),W=["subscribePush","unsubscribePush","onPush","offPush","share"];function D(t){return function(e){var n=e.fail,o=e.complete,r={errMsg:"".concat(t,":fail:暂不支持 ").concat(t," 方法")};s(n)&&n(r),s(o)&&o(r)}}function L(t){if(t.$processed=!0,t.__uniapp_mask_id){var e=t.__uniapp_mask,n=plus.webview.getWebviewById(t.__uniapp_mask_id),o=t.show,r=t.hide,a=t.close,i=function(){n.setStyle({mask:e})},u=function(){n.setStyle({mask:"none"})};t.show=function(){i();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return o.apply(t,n)},t.hide=function(){u();for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return r.apply(t,n)},t.close=function(){u(),s=[];for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return a.apply(t,n)},t.postMessage=function(e){plus.webview.postMessageToUniNView({type:"UniAppSubNVue",data:e,options:{id:t.id}},t.id)};var s=[];t.onMessage=function(t){s.push(t)},t.$consumeMessage=function(t){s.forEach(function(e){return e(t)})}}}W.forEach(function(t){U[t]=D(t)});var q={getSubNVueById:function(t){var e=plus.webview.getWebviewById(t);return e&&!e.$processed&&L(e),e}};function J(t){return"undefined"!==typeof weex?weex.requireModule(t):__requireNativePlugin__(t)}var z=Object.freeze({requireNativePlugin:J,subNVue:q}),G=Page,F=Component,K=/:/g,Q=v(function(t){return p(t.replace(K,"-"))});function X(t){if(wx.canIUse("nextTick")){var e=t.triggerEvent;t.triggerEvent=function(n){for(var o=arguments.length,r=new Array(o>1?o-1:0),a=1;a<o;a++)r[a-1]=arguments[a];return e.apply(t,[Q(n)].concat(r))}}}function Y(t,e){var n=e[t];e[t]=n?function(){X(this);for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return n.apply(this,e)}:function(){X(this)}}Page=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Y("onLoad",t),G(t)},Component=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Y("created",t),F(t)};var Z=["__route__","__wxExparserNodeId__","__wxWebviewId__"];function tt(t){return Behavior(t)}function et(t){var e=t.$scope;Object.defineProperty(t,"$refs",{get:function(){var t={},n=e.selectAllComponents(".vue-ref");n.forEach(function(e){var n=e.dataset.ref;t[n]=e.$vm||e});var o=e.selectAllComponents(".vue-ref-in-for");return o.forEach(function(e){var n=e.dataset.ref;t[n]||(t[n]=[]),t[n].push(e.$vm||e)}),t}})}function nt(t,e){t.triggerEvent("__l",t.$vm||e,{bubbles:!0,composed:!0})}function ot(t){t.detail.$mp?t.detail.$parent||(t.detail.$parent=this.$vm,t.detail.$parent.$children.push(t.detail),t.detail.$root=this.$vm.$root):t.detail.parent||(t.detail.parent=this.$vm)}function rt(t){return at(t)}function at(t){return t.methods.$getAppWebview=function(){return plus.webview.getWebviewById("".concat(this.__wxWebviewId__))},Component(t)}function it(t,e){var n=t.$mp[t.mpType];e.forEach(function(e){f(n,e)&&(t[e]=n[e])})}function ut(t,e){e.forEach(function(e){t[e]=function(t){return this.$vm.__call_hook(e,t)}})}function st(t,e){var n=t.data||{},o=t.methods||{};if("function"===typeof n)try{n=n.call(e)}catch(r){Object({VUE_APP_PLATFORM:"app-plus",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_DEBUG&&console.warn("根据 Vue 的 data 函数初始化小程序 data 失败，请尽量确保 data 函数中不访问 vm 对象，否则可能影响首次数据渲染速度。",n)}else try{n=JSON.parse(JSON.stringify(n))}catch(r){}return l(n)||(n={}),Object.keys(o).forEach(function(t){-1!==e.__lifecycle_hooks__.indexOf(t)||f(n,t)||(n[t]=o[t])}),n}var ct=[String,Number,Boolean,Object,Array,null];function lt(t){return function(e,n){this.$vm&&(this.$vm[t]=e)}}function ft(t){var e=t["behaviors"],n=t["extends"],o=t["mixins"],r=t["props"];r||(t["props"]=r=[]);var a=[];return Array.isArray(e)&&e.forEach(function(t){a.push(t.replace("uni://","wx".concat("://"))),"uni://form-field"===t&&(Array.isArray(r)?(r.push("name"),r.push("value")):(r["name"]=String,r["value"]=null))}),l(n)&&n.props&&a.push(tt({properties:vt(n.props,!0)})),Array.isArray(o)&&o.forEach(function(t){l(t)&&t.props&&a.push(tt({properties:vt(t.props,!0)}))}),a}function ht(t,e,n,o){return Array.isArray(e)&&1===e.length?e[0]:e}function vt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o={};return e||(o.vueSlots={type:null,value:[],observer:function(t,e){var n=Object.create(null);t.forEach(function(t){n[t]=!0}),this.setData({$slots:n})}}),Array.isArray(t)?t.forEach(function(t){o[t]={type:null,observer:lt(t)}}):l(t)&&Object.keys(t).forEach(function(e){var r=t[e];if(l(r)){var a=r["default"];s(a)&&(a=a()),r.type=ht(e,r.type,a,n),o[e]={type:-1!==ct.indexOf(r.type)?r.type:null,value:a,observer:lt(e)}}else{var i=ht(e,r,null,n);o[e]={type:-1!==ct.indexOf(i)?i:null,observer:lt(e)}}}),o}function dt(t){try{t.mp=JSON.parse(JSON.stringify(t))}catch(e){}return t.stopPropagation=h,t.preventDefault=h,t.target=t.target||{},f(t,"detail")||(t.detail={}),l(t.detail)&&(t.target=Object.assign({},t.target,t.detail)),t}function pt(t,e){var n=t;return e.forEach(function(e){var o=e[0],r=e[2];if(o||"undefined"!==typeof r){var a=e[1],i=e[3],u=o?t.__get_value(o,n):n;Number.isInteger(u)?n=r:a?Array.isArray(u)?n=u.find(function(e){return t.__get_value(a,e)===r}):l(u)?n=Object.keys(u).find(function(e){return t.__get_value(a,u[e])===r}):console.error("v-for 暂不支持循环数据：",u):n=u[r],i&&(n=t.__get_value(i,n))}}),n}function mt(t,e,n){var o={};return Array.isArray(e)&&e.length&&e.forEach(function(e,r){"string"===typeof e?e?"$event"===e?o["$"+r]=n:0===e.indexOf("$event.")?o["$"+r]=t.__get_value(e.replace("$event.",""),n):o["$"+r]=t.__get_value(e):o["$"+r]=t:o["$"+r]=pt(t,e)}),o}function _t(t){for(var e={},n=1;n<t.length;n++){var o=t[n];e[o[0]]=o[1]}return e}function gt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,i=!1;if(r&&(i=e.currentTarget&&e.currentTarget.dataset&&"wx"===e.currentTarget.dataset.comType,!n.length))return i?[e]:e.detail.__args__||e.detail;var u=mt(t,o,e),s=[];return n.forEach(function(t){"$event"===t?"__set_model"!==a||r?r&&!i?s.push(e.detail.__args__[0]):s.push(e):s.push(e.target.value):Array.isArray(t)&&"o"===t[0]?s.push(_t(t)):"string"===typeof t&&f(u,t)?s.push(u[t]):s.push(t)}),s}var yt="~",wt="^";function $t(t){var e=this;t=dt(t);var n=(t.currentTarget||t.target).dataset.eventOpts;if(!n)return console.warn("事件信息不存在");var o=t.type;n.forEach(function(n){var r=n[0],a=n[1],i=r.charAt(0)===wt;r=i?r.slice(1):r;var u=r.charAt(0)===yt;r=u?r.slice(1):r,a&&o===r&&a.forEach(function(n){var o=n[0];if(o){var r=e.$vm[o];if(!s(r))throw new Error(" _vm.".concat(o," is not a function"));if(u){if(r.once)return;r.once=!0}r.apply(e.$vm,gt(e.$vm,t,n[1],n[2],i,o))}})})}var bt=["onHide","onError","onPageNotFound","onUniNViewMessage"];function xt(t){this.$vm||(this.$vm=t,this.$vm.$mp={app:this})}function St(t){o.default.mixin({beforeCreate:function(){this.$options.mpType&&(this.mpType=this.$options.mpType,this.$mp=a({data:{}},this.mpType,this.$options.mpInstance),this.$scope=this.$options.mpInstance,delete this.$options.mpType,delete this.$options.mpInstance,"app"!==this.mpType&&(et(this),it(this,Z)))},created:function(){this.__init_injections(this),this.__init_provide(this)}});var e={onLaunch:function(e){xt.call(this,t),this.$vm._isMounted=!0,this.$vm.__call_hook("mounted"),this.$vm.__call_hook("onLaunch",e)},onShow:function(e){xt.call(this,t),this.$vm.__call_hook("onShow",e)}};return e.globalData=t.$options.globalData||{},ut(e,bt),App(e),t}var Pt=["onShow","onHide","onPullDownRefresh","onReachBottom","onShareAppMessage","onPageScroll","onResize","onTabItemTap","onBackPress","onNavigationBarButtonTap","onNavigationBarSearchInputChanged","onNavigationBarSearchInputConfirmed","onNavigationBarSearchInputClicked"];function kt(t){this.$vm||(this.$vm=new t({mpType:"page",mpInstance:this}),this.$vm.__call_hook("created"),this.$vm.$mount())}function Et(t){var e;t=t.default||t,s(t)?(e=t,t=e.extendOptions):e=o.default.extend(t);var n={options:{multipleSlots:!0,addGlobalClass:!0},data:st(t,o.default.prototype),lifetimes:{attached:function(){kt.call(this,e)},ready:function(){this.$vm.__call_hook("beforeMount"),this.$vm._isMounted=!0,this.$vm.__call_hook("mounted"),this.$vm.__call_hook("onReady")},detached:function(){this.$vm.$destroy()}},methods:{onLoad:function(t){kt.call(this,e),this.$vm.$mp.query=t,this.$vm.__call_hook("onLoad",t)},onUnload:function(){this.$vm.__call_hook("onUnload")},__e:$t,__l:ot}};return ut(n.methods,Pt),rt(n,t)}function At(t){if(!this.$vm){var e=this.properties,n={mpType:"component",mpInstance:this,propsData:e};this.$vm=new t(n);var o=e.vueSlots;if(Array.isArray(o)&&o.length){var r=Object.create(null);o.forEach(function(t){r[t]=!0}),this.$vm.$scopedSlots=this.$vm.$slots=r}this.$vm.$mount()}}function Ot(t){var e;t=t.default||t,s(t)?(e=t,t=e.extendOptions):e=o.default.extend(t);var n=ft(t),r=vt(t.props,!1,t.__file),a={options:{multipleSlots:!0,addGlobalClass:!0},data:st(t,o.default.prototype),behaviors:n,properties:r,lifetimes:{attached:function(){At.call(this,e)},ready:function(){At.call(this,e),nt(this),this.$vm.__call_hook("created"),this.$vm.__call_hook("beforeMount"),this.$vm._isMounted=!0,this.$vm.__call_hook("mounted"),this.$vm.__call_hook("onReady")},detached:function(){this.$vm.$destroy()}},pageLifetimes:{show:function(t){this.$vm.__call_hook("onPageShow",t)},hide:function(){this.$vm&&this.$vm.__call_hook("onPageHide")},resize:function(t){this.$vm&&this.$vm.__call_hook("onPageResize",t)}},methods:{__e:$t,__l:ot}};return at(a,t)}N.forEach(function(t){M[t]=!1}),T.forEach(function(t){var e=M[t]&&M[t].name?M[t].name:t;wx.canIUse(e)||(M[t]=!1)});var It={};"undefined"!==typeof Proxy?It=new Proxy({},{get:function(t,e){return"upx2px"===e?C:z[e]?S(e,z[e]):f(wx,e)||f(M,e)?S(e,R(e,wx[e])):void 0}}):(It.upx2px=C,Object.keys(z).forEach(function(t){It[t]=S(t,z[t])}),Object.keys(wx).forEach(function(t){(f(wx,t)||f(M,t))&&(It[t]=S(t,R(t,wx[t])))}));var Ct=It,Mt=Ct;e.default=Mt},"759e":function(t,e,n){"use strict";var o=n("7abb"),r=n.n(o);r.a},"7abb":function(t,e,n){},"7b5f":function(t,e,n){"use strict";var o=n("f4e0"),r=n.n(o);r.a},"84a9":function(t,e,n){"use strict";n("8142");var o=a(n("b0ce")),r=a(n("47d6"));function a(t){return t&&t.__esModule?t:{default:t}}Page((0,o.default)(r.default))},a344:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:"uni-column"},[n("view",{staticClass:"content",style:{height:t.style.contentViewHeight+"px"},attrs:{id:"content"}},[n("scroll-view",{style:{height:t.style.contentViewHeight+"px"},attrs:{id:"scrollview","scroll-y":"true","scroll-with-animation":!0,"scroll-top":t.scrollTop}},[t._l(t.messages,function(t,e){return n("message-show",{key:e,attrs:{message:t,id:e,mpcomid:"371817f1-0-"+e}})}),n("view",{attrs:{id:"bottom"}})],2)],1),n("view",{staticClass:"foot"},[n("chat-input",{attrs:{eventid:"371817f1-0",mpcomid:"371817f1-1"},on:{"send-message":t.getInputMessage}})],1)])},r=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r})},b0ce:function(t,e,n){"use strict";n.r(e);var o=n("f3d3"),r=n.n(o);function a(t,e,n){var o,r=t.$options[e];if("onError"===e&&r&&(r=[r]),"function"===typeof r&&(r=[r]),r)for(var i=0,u=r.length;i<u;i++)o=r[i].call(t,n);return t._hasHookEvent&&t.$emit("hook:"+e),t.$children.length&&t.$children.forEach(function(t){return a(t,e,n)}),o}function i(t){return t.$vm.$root}e["default"]=function(t){return{data:{$root:{}},onLoad:function(e){var n=new r.a(t);this.$vm=n;var o=n.$root;o.__wxExparserNodeId__=this.__wxExparserNodeId__,o.__wxWebviewId__=this.__wxWebviewId__,o.$mp||(o.$mp={});var a=o.$mp;a.mpType="page",a.page=this,a.query=e,a.status="load",n.$mount()},handleProxy:function(t){var e=i(this);return e.$handleProxyWithVue(t)},onShow:function(){var t=i(this),e=t.$mp;e.status="show",a(t,"onShow"),t.$nextTick(function(){t._initDataToMP()})},onReady:function(){var t=i(this),e=t.$mp;e.status="ready",a(t,"onReady")},onHide:function(){var t=i(this),e=t.$mp;e.status="hide",a(t,"onHide")},onUnload:function(){var t=i(this);a(t,"onUnload"),t.$destroy()},onPullDownRefresh:function(){var t=i(this);a(t,"onPullDownRefresh")},onReachBottom:function(){var t=i(this);a(t,"onReachBottom")},onPageScroll:function(t){var e=i(this);a(e,"onPageScroll",t)},onTabItemTap:function(t){var e=i(this);a(e,"onTabItemTap",t)},onShareAppMessage:t.onShareAppMessage?function(t){var e=i(this);return a(e,"onShareAppMessage",t)}:null,onNavigationBarButtonTap:function(t){var e=i(this);a(e,"onNavigationBarButtonTap",t)},onNavigationBarSearchInputChanged:function(t){var e=i(this);a(e,"onNavigationBarSearchInputChanged",t)},onNavigationBarSearchInputConfirmed:function(t){var e=i(this);a(e,"onNavigationBarSearchInputConfirmed",t)},onNavigationBarSearchInputClicked:function(t){var e=i(this);a(e,"onNavigationBarSearchInputClicked",t)},onBackPress:function(t){var e=i(this);return a(e,"onBackPress",t)},$getAppWebview:function(t){return plus.webview.getWebviewById(""+this.__wxWebviewId__)}}}},c899:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(n("685f")),r=a(n("173b"));function a(t){return t&&t.__esModule?t:{default:t}}var i={data:function(){return{style:{pageHeight:0,contentViewHeight:0,footViewHeight:90,mitemHeight:0},scrollTop:0,messages:[{user:"home",type:"head",content:"你好!"}]}},components:{chatInput:o.default,messageShow:r.default},onLoad:function(){var e=this;console.log("开始了"),t.connectSocket({url:"ws://120.79.62.89:8993"}),t.onSocketOpen(function(t){}),t.onSocketMessage(function(t){console.log("欢迎你用户id发出："+t.data),e.addMessage("home",t.data,!1),e.scrollToBottom()})},created:function(){var e=t.getSystemInfoSync();this.style.pageHeight=e.windowHeight,this.style.contentViewHeight=e.windowHeight-t.getSystemInfoSync().screenWidth/750*100},methods:{getInputMessage:function(t){this.addMessage("customer",t.content,!1),this.toRobot(t.content)},addMessage:function(t,e,n,o){var r=this;r.messages.push({user:t,content:e,hasSub:n,subcontent:o})},scrollToBottom:function(){var e=this,n=t.createSelectorQuery();n.selectAll(".m-item").boundingClientRect(),n.select("#scrollview").boundingClientRect(),n.exec(function(t){e.style.mitemHeight=0,t[0].forEach(function(t){e.style.mitemHeight=e.style.mitemHeight+t.height+20}),e.style.mitemHeight>e.style.contentViewHeight&&(e.scrollTop=e.style.mitemHeight-e.style.contentViewHeight)})},toRobot:function(e){console.log("发生"+e),t.sendSocketMessage({data:e}),this.scrollToBottom()}}};e.default=i}).call(this,n("6e42")["default"])},cd2f:function(t,e,n){"use strict";n.r(e);var o=n("d35c"),r=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);e["default"]=r.a},d35c:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={name:"chat-input",data:function(){return{inputValue:""}},methods:{sendMessge:function(){var t=this;""==t.inputValue.trim()?t.inputValue="":(this.$emit("send-message",{type:"text",content:t.inputValue}),t.inputValue="")}}};e.default=o},da00:function(t,e,n){"use strict";n.r(e);var o=n("c899"),r=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);e["default"]=r.a},df5a:function(t,e,n){},eea5:function(t,e,n){"use strict";var o=n("df5a"),r=n.n(o);r.a},f4e0:function(t,e,n){}},[["84a9","common/runtime","common/vendor"]]]);